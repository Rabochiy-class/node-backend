openapi: 3.0.3
info:
  title: TelegramWebDonorSearch API
  version: 1.0.0
paths:
  /api/donations:
    get:
      operationId: donations_list
      description: Retrieves a list of donations made by the authenticated user, excluding
        deleted donations.
      summary: List User Donations
      parameters:
        - in: query
          name: donate_at__gte
          schema:
            type: string
            format: date
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
        - in: query
          name: status
          schema:
            type: string
      tags:
        - Donation Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedDonationList'
          description: ''
    post:
      operationId: donations_create
      description: Allows an authenticated user to create a new donation record.
      summary: Create a Donation
      tags:
        - Donation Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DonationCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DonationCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationCreate'
          description: ''
  /api/donation_plan/{id}:
    get:
      operationId: donation_plan_retrieve
      description: Get detailed information about a specific donation plan.
      summary: Retrieve a Donation Plan
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Планирование донаци.
          required: true
      tags:
        - Donation Plan Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationPlan'
          description: ''
    patch:
      operationId: donation_plan_partial_update
      description: Allows an authenticated user to partially update an existing donation
        plan. Only the provided fields will be updated.
      summary: Partially Update a Donation Plan
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Планирование донаци.
          required: true
      tags:
        - Donation Plan Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDonationPlan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDonationPlan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDonationPlan'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationPlan'
          description: ''
    delete:
      operationId: donation_plan_destroy
      description: Aborts a donation plan, marking it as aborted.
      summary: Abort a Donation Plan
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Планирование донаци.
          required: true
      tags:
        - Donation Plan Management
      responses:
        '204':
          description: No response body
  /api/donation_plan:
    get:
      operationId: donation_plan_list
      description: Retrieves a list of donation plans created by the authenticated
        user, excluding aborted plans.
      summary: List Donation Plans
      parameters:
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
      tags:
        - Donation Plan Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedDonationPlanList'
          description: ''
    post:
      operationId: donation_plan_create
      description: Allows an authenticated user to create a new donation plan.
      summary: Create a Donation Plan
      tags:
        - Donation Plan Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationPlan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DonationPlan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DonationPlan'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationPlan'
          description: ''
  /api/auth/registration:
    post:
      operationId: register_new_user
      description: Registers a new user, either through email or phone number.
      summary: User Registration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Registration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Registration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Registration'
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id:
                    type: string
          description: ''
  /api/auth/confirm_email_reg:
    post:
      operationId: auth_confirm_email_reg_create
      description: Confirms a user's email address during the registration process.
      summary: Confirm Email on Registration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailVerificationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/confirm_phone_reg:
    post:
      operationId: auth_confirm_phone_reg_create
      description: Confirms phone number registration and completes the user registration
        process.
      summary: Confirm Phone Registration
      tags:
        - Account Creation and Confirmation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneVerificationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/login:
    post:
      operationId: auth_login_create
      description: Authenticates a user with a username and password. Handles email
        and phone number formats for usernames.
      summary: User Login
      tags:
        - Authentication
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                password:
                  type: string
              required:
                - username
                - password
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserHandler'
          description: ''
  /api/auth/logout:
    post:
      operationId: auth_logout_create
      description: Logs out the current user, invalidating their authentication token.
      summary: User Logout
      tags:
        - Authentication
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/recover:
    post:
      operationId: auth_recover_create
      description: Handles account recovery through email or phone. The method of
        recovery depends on the user's registered login type. It sends an email or
        SMS with recovery instructions.
      summary: Account Recovery
      tags:
        - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
              required:
                - username
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  login_type:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
          description: ''
  /api/auth/resend_code:
    post:
      operationId: auth_resend_code_create
      description: Resends a phone verification code to the user.
      summary: Resend Phone Verification Code
      tags:
        - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
              required:
                - user_id
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/resend_email_code:
    post:
      operationId: auth_resend_email_code_create
      description: Sends a new email confirmation code to the user.
      summary: Resend Email Confirmation Code
      tags:
        - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
              required:
                - user_id
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/blood_stations/{id}:
    get:
      operationId: blood_stations_retrieve
      description: Retrieves detailed information about a specific blood station.
      summary: Retrieve Specific Blood Station Details
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Центр крови.
          required: true
      tags:
        - Blood Station Information
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BloodStationWithNeeds'
          description: ''
  /api/cities:
    get:
      operationId: cities_list
      description: Retrieves a list of cities within specified CIS countries. Supports
        optional search and filtering.
      summary: List Cities
      parameters:
        - in: query
          name: all_bs
          schema:
            type: boolean
          description: Include all blood stations.
        - in: query
          name: country
          schema:
            type: integer
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - in: query
          name: region
          schema:
            type: integer
        - in: query
          name: s
          schema:
            type: string
          description: Search term for city title.
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
        - in: query
          name: with_bs
          schema:
            type: boolean
          description: Filter cities with blood stations.
      tags:
        - Regions
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCityList'
          description: ''
  /api/donations/is-exists:
    get:
      operationId: donations_is_exists_retrieve
      description: Checks if a donation by the authenticated user exists on a given
        date.
      summary: Check if Donation Exists on a Specific Date
      parameters:
        - in: query
          name: donate_at
          schema:
            type: string
          description: 'Date of donation to check (format: YYYY-MM-DD)'
      tags:
        - Donation Management
      responses:
        '200':
          description: 'exists: boolean'
  /api/donations/{id}:
    get:
      operationId: donations_retrieve
      description: Get detailed information about a specific donation made by the
        authenticated user.
      summary: Retrieve Donation Details
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Донация.
          required: true
      tags:
        - Donation Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationDetail'
          description: ''
    put:
      operationId: donations_update
      description: Allows an authenticated user to update an existing donation record.
      summary: Update a Donation
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Донация.
          required: true
      tags:
        - Donation Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donation'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Donation'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Donation'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Donation'
          description: ''
    patch:
      operationId: donations_partial_update
      description: Allows an authenticated user to update an existing donation record.
      summary: Update a Donation
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Донация.
          required: true
      tags:
        - Donation Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedDonation'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedDonation'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedDonation'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Donation'
          description: ''
    delete:
      operationId: donations_destroy
      description: Soft deletes a donation made by the authenticated user.
      summary: Delete a Donation
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this Донация.
          required: true
      tags:
        - Donation Management
      responses:
        '204':
          description: No response body
  /api/picture:
    post:
      operationId: picture_create
      description: |-
        Accepts multipart form with the only field called `image`, or a raw body, like this:
        
        ```
        curl       -X PUT       -H "Authorization: Token 50152a5d7af1fab20a87744e2024b2a110916edc"       -H "Content-Disposition: attachment; filename=filename.jpg"       --data-binary @"/Downloads/tsjh.jpg"       http://127.0.0.1:8000/api/picture/
        ```
      tags:
        - picture
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Picture'
          '*/*':
            schema:
              $ref: '#/components/schemas/Picture'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Picture'
          description: ''
  /api/auth/me:
    get:
      operationId: auth_me_retrieve
      description: Retrieves or updates the current user's information. Requires user
        to be authenticated.
      summary: Get Or Update Current User Information
      tags:
        - Account Data Management
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: auth_me_partial_update
      description: Retrieves or updates the current user's information. Requires user
        to be authenticated.
      summary: Get Or Update Current User Information
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/donor_card:
    get:
      operationId: auth_donor_card_retrieve
      description: Changes the phone number of a user.
      summary: Change Phone Number
      tags:
        - Account Data Management
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/check_sms_code:
    post:
      operationId: auth_check_sms_code_create
      description: Verifies an SMS code sent to a user’s phone number.
      summary: Check SMS Code
      tags:
        - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
              required:
                - code
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
          description: ''
  /api/auth/set_password:
    post:
      operationId: auth_set_password_create
      description: Allows a user to set a new password, usually as part of a password
        reset process.
      summary: Set Password
      tags:
        - Account Recovery
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ResetPassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ResetPassword'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/change_email:
    post:
      operationId: auth_change_email_create
      description: Changes the email address of a user.
      summary: Change Email Address
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailChangeSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/address_needs:
    get:
      operationId: address_needs_list
      description: Retrieves a list of address needs. The list can be filtered by
        city, main page status, and blood group.
      summary: List Address Needs
      parameters:
        - in: query
          name: blood_station
          schema:
            type: integer
        - in: query
          name: id
          schema:
            type: integer
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
      tags:
        - Address Needs
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAddressNeedList'
          description: ''
  /api/blood_stations:
    get:
      operationId: blood_stations_list
      description: Retrieves a list of all blood stations along with detailed information.
      summary: List All Blood Stations
      parameters:
        - in: query
          name: blood_group
          schema:
            type: string
        - in: query
          name: city_id
          schema:
            type: number
        - in: query
          name: city_slug
          schema:
            type: string
        - in: query
          name: closed
          schema:
            type: boolean
        - in: query
          name: for_moscow
          schema:
            type: boolean
        - in: query
          name: open_on_saturday
          schema:
            type: boolean
        - in: query
          name: open_on_sunday
          schema:
            type: boolean
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - in: query
          name: q
          schema:
            type: string
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
        - in: query
          name: with_typing
          schema:
            type: boolean
        - in: query
          name: without_registration
          schema:
            type: boolean
      tags:
        - Blood Station Information
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBloodStationWithNeedsList'
          description: ''
  /api/bonuses:
    get:
      operationId: bonuses_list
      description: Retrieve a list of available bonuses with their basic information.
      summary: List all available bonuses
      parameters:
        - in: query
          name: city_id
          schema:
            type: number
        - name: ordering
          required: false
          in: query
          description: Which field to use when ordering the results.
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
        - name: search
          required: false
          in: query
          description: A search term.
          schema:
            type: string
      tags:
        - Bonus Information
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBonusListList'
          description: ''
  /api/bonuses/{id}:
    get:
      operationId: bonuses_retrieve
      description: Get detailed information about a specific bonus.
      summary: Retrieve Bonus Details
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          required: true
      tags:
        - Bonus Information
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BonusDetail'
          description: ''
  /api/auth/change_password:
    post:
      operationId: auth_change_password_create
      description: Allows an authenticated user to change their password.
      summary: Change Password
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangePassword'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/change_phone:
    post:
      operationId: auth_change_phone_create
      description: Changes the phone number of a user.
      summary: Change Phone Number
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneChangeSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/confirm_email:
    post:
      operationId: auth_confirm_email_create
      description: Confirms a user's email address using the provided confirmation
        code.
      summary: Confirm Email Address
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailConfirmationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
  /api/auth/confirm_phone:
    post:
      operationId: auth_confirm_phone_create
      description: Confirms a user's phone number using the provided confirmation
        code.
      summary: Confirm Phone Number
      tags:
        - Account Data Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PhoneConfirmationSerialzier'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
          description: ''
components:
  schemas:
    UserHandler:
      type: object
      properties:
        token:
          type: string
        user:
          $ref: '#/components/schemas/User'  
    RejectReasonEnum:
      enum:
        - photo1
        - photo2
        - date
        - date2
        - need_screenshot
        - wrong_fio
      type: string
      description: |-
        * `photo1` - Фотография имеет неразборчивое отображение
        * `photo2` - Необходима справка по формам 402/у, 405-05/у или 448-05/у
        * `date` - Расставьте верно даты донаций в профиле
        * `date2` - Создайте нужное число донаций с датами согласно приложенной справке
        * `need_screenshot` - Сделайте скриншот каждой донации в Госуслугах, где видны ФИО, дата, тип и номер донации
        * `wrong_fio` - ФИО на справке и в профиле не совпадает
    Status73fEnum:
      enum:
        - waiting
        - waiting_after_accept
        - without_image
        - accepted
        - rejected
        - deleted
      type: string
      description: |-
        * `waiting` - На модерации
        * `waiting_after_accept` - На модерации после принятия
        * `without_image` - Без справки
        * `accepted` - Принята
        * `rejected` - Отклонена
        * `deleted` - Удалена
    PatchedDonation:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStationSmall'
          readOnly: true
        image:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        image_id:
          type: integer
          nullable: true
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        legacy_image:
          type: string
          readOnly: true
        has_reply:
          type: string
          readOnly: true
        reply_viewed:
          type: string
          readOnly: true
        allowed_modify:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        status:
          allOf:
            - $ref: '#/components/schemas/Status73fEnum'
          readOnly: true
          title: Статус
          description: |-
            Статус "без справки" можно изменить отметив поле "Со справкой?" и добавив справку
            
            * `waiting` - На модерации
            * `waiting_after_accept` - На модерации после принятия
            * `without_image` - Без справки
            * `accepted` - Принята
            * `rejected` - Отклонена
            * `deleted` - Удалена
        reject_reason:
          readOnly: true
          nullable: true
          title: Причина отказа
          oneOf:
            - $ref: '#/components/schemas/RejectReasonEnum'
            - $ref: '#/components/schemas/NullEnum'
        donate_at:
          type: string
          format: date
          title: Дата донации
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        payment_type:
          allOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
          title: Тип донации
        is_out:
          type: boolean
          title: Выездная акция
        volume:
          type: number
          format: double
          title: Объем
        payment_cost:
          type: number
          format: double
          title: Цена донаци
        on_moderation_date:
          type: string
          format: date
          nullable: true
          title: С какой даты на модерации
        with_image:
          type: boolean
          title: Со справкой?
        created_using_ocr:
          type: boolean
          title: Создано OCR
          description: Данная запись сгенерирована с помощью модуля распознования
            справок
        user:
          type: integer
          readOnly: true
          title: Пользователь
    DonationDetail:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStationSmall'
          readOnly: true
        image:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        image_id:
          type: integer
          nullable: true
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        legacy_image:
          type: string
          readOnly: true
        has_reply:
          type: string
          readOnly: true
        reply_viewed:
          type: string
          readOnly: true
        allowed_modify:
          type: string
          readOnly: true
        feedback:
          type: string
          readOnly: true
        favorite_blood_station_id:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        status:
          allOf:
            - $ref: '#/components/schemas/Status73fEnum'
          readOnly: true
          title: Статус
          description: |-
            Статус "без справки" можно изменить отметив поле "Со справкой?" и добавив справку
            
            * `waiting` - На модерации
            * `waiting_after_accept` - На модерации после принятия
            * `without_image` - Без справки
            * `accepted` - Принята
            * `rejected` - Отклонена
            * `deleted` - Удалена
        reject_reason:
          readOnly: true
          nullable: true
          title: Причина отказа
          oneOf:
            - $ref: '#/components/schemas/RejectReasonEnum'
            - $ref: '#/components/schemas/NullEnum'
        donate_at:
          type: string
          format: date
          title: Дата донации
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        payment_type:
          allOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
          title: Тип донации
        is_out:
          type: boolean
          title: Выездная акция
        volume:
          type: number
          format: double
          title: Объем
        payment_cost:
          type: number
          format: double
          title: Цена донаци
        on_moderation_date:
          type: string
          format: date
          nullable: true
          title: С какой даты на модерации
        with_image:
          type: boolean
          title: Со справкой?
        created_using_ocr:
          type: boolean
          title: Создано OCR
          description: Данная запись сгенерирована с помощью модуля распознования
            справок
        user:
          type: integer
          readOnly: true
          title: Пользователь
      required:
        - allowed_modify
        - blood_station
        - city
        - city_id
        - created_at
        - donate_at
        - favorite_blood_station_id
        - feedback
        - has_reply
        - id
        - image
        - legacy_image
        - reject_reason
        - reply_viewed
        - status
        - updated_at
        - user
    Picture:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        image:
          type: string
          format: uri
        date_added:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
      required:
        - date_added
        - id
        - image
    KellEnum:
      enum:
        - positive
        - negative
        - dont_know
      type: string
      description: |-
        * `positive` - Положительный
        * `negative` - Отрицательный
        * `dont_know` - Не знаю
    DonorCardBloodGroupEnum:
      enum:
        - o_plus
        - o_minus
        - a_plus
        - a_minus
        - b_plus
        - b_minus
        - ab_plus
        - ab_minus
        - dont_know
      type: string
      description: |-
        * `o_plus` - O(I) Rh+
        * `o_minus` - O(I) Rh-
        * `a_plus` - A(II) Rh+
        * `a_minus` - A(II) Rh-
        * `b_plus` - B(III) Rh+
        * `b_minus` - B(III) Rh-
        * `ab_plus` - AB(IV) Rh+
        * `ab_minus` - AB(IV) Rh-
        * `dont_know` - Не знаю
    PatchedDonorCard:
      type: object
      properties:
        blood_group:
          nullable: true
          title: Группа крови
          oneOf:
            - $ref: '#/components/schemas/DonorCardBloodGroupEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        kell:
          nullable: true
          title: Kell-Фактор
          oneOf:
            - $ref: '#/components/schemas/KellEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        blood:
          type: boolean
          title: Готов сдавать Кровь
        plasma:
          type: boolean
          title: Готов сдавать Плазма
        platelets:
          type: boolean
          title: Готов сдавать Тромбоциты
        erythrocytes:
          type: boolean
          title: Готов сдавать Эритроциты
        leukocytes:
          type: boolean
          title: Готов сдавать Лейкоциты
        cant_donate:
          type: boolean
          title: Я не могу сдавать кровь
        cant_donate_disqualification:
          type: boolean
          title: Отвод
        cant_donate_surgery:
          type: boolean
          title: Операция
        cant_donate_lactation:
          type: boolean
          title: Кормление грудью
        cant_donate_other:
          type: boolean
          title: Иное
        cant_donate_donor:
          type: boolean
          title: Я не могу быть донором
        cant_donate_notice:
          type: string
          format: date
          nullable: true
          title: Напомнить о возвращении
        bone_donor:
          type: boolean
          title: Донор костного мозга
        donations_before_reg:
          type: integer
          maximum: 999
          minimum: 0
          nullable: true
          title: Донаций до регистрации
          description: число донаций пользователя до регистрации на DonorSearch
        donor_status:
          type: integer
          title: Статус донора
    DonorCard:
      type: object
      properties:
        blood_group:
          nullable: true
          title: Группа крови
          oneOf:
            - $ref: '#/components/schemas/DonorCardBloodGroupEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        kell:
          nullable: true
          title: Kell-Фактор
          oneOf:
            - $ref: '#/components/schemas/KellEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        blood:
          type: boolean
          title: Готов сдавать Кровь
        plasma:
          type: boolean
          title: Готов сдавать Плазма
        platelets:
          type: boolean
          title: Готов сдавать Тромбоциты
        erythrocytes:
          type: boolean
          title: Готов сдавать Эритроциты
        leukocytes:
          type: boolean
          title: Готов сдавать Лейкоциты
        cant_donate:
          type: boolean
          title: Я не могу сдавать кровь
        cant_donate_disqualification:
          type: boolean
          title: Отвод
        cant_donate_surgery:
          type: boolean
          title: Операция
        cant_donate_lactation:
          type: boolean
          title: Кормление грудью
        cant_donate_other:
          type: boolean
          title: Иное
        cant_donate_donor:
          type: boolean
          title: Я не могу быть донором
        cant_donate_notice:
          type: string
          format: date
          nullable: true
          title: Напомнить о возвращении
        bone_donor:
          type: boolean
          title: Донор костного мозга
        donations_before_reg:
          type: integer
          maximum: 999
          minimum: 0
          nullable: true
          title: Донаций до регистрации
          description: число донаций пользователя до регистрации на DonorSearch
        donor_status:
          type: integer
          title: Статус донора
    PatchedDonationPlan:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        event:
          type: string
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStation'
          readOnly: true
        city_id:
          type: integer
          nullable: true
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        object_id:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: ID записи
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        plan_date:
          type: string
          format: date
          title: Планируемая дата
        payment_type:
          nullable: true
          title: Тип донации
          oneOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        status:
          allOf:
            - $ref: '#/components/schemas/DonationPlanStatusEnum'
          title: Статус
        is_out:
          type: boolean
          title: Выездная акция
        user:
          type: integer
          readOnly: true
          title: Пользователь
        content_type:
          type: integer
          nullable: true
          title: Тип записи
        donation:
          type: integer
          nullable: true
          title: Добавленная Донация
    PaginatedDonationList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Donation'
    BloodStationSmallBloodGroupEnum:
      enum:
        - o_plus
        - o_minus
        - a_plus
        - a_minus
        - b_plus
        - b_minus
        - ab_plus
        - ab_minus
      type: string
      description: |-
        * `o_plus` - O(I) Rh+
        * `o_minus` - O(I) Rh-
        * `a_plus` - A(II) Rh+
        * `a_minus` - A(II) Rh-
        * `b_plus` - B(III) Rh+
        * `b_minus` - B(III) Rh-
        * `ab_plus` - AB(IV) Rh+
        * `ab_minus` - AB(IV) Rh-
    BloodStationSmall:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        city_id:
          type: integer
        city:
          $ref: '#/components/schemas/City'
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        blood_group:
          title: Потребности центра крови
          oneOf:
            - $ref: '#/components/schemas/BloodStationSmallBloodGroupEnum'
            - $ref: '#/components/schemas/BlankEnum'
        parser_url:
          type: string
          format: uri
          nullable: true
          title: Страница в службе крови
          maxLength: 200
        is_get_from_parser:
          type: boolean
          title: Принимать потребности у службы крови?
          description: Данные будут обновляться каждый день в час ночи.
        o_plus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: O(I) Rh+
        o_minus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: O(I) Rh-
        a_plus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: A(II) Rh+
        a_minus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: A(II) Rh-
        b_plus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: B(III) Rh+
        b_minus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: B(III) Rh-
        ab_plus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: AB(IV) Rh+
        ab_minus:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: AB(IV) Rh-
        blood:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: Цельная кровь
        plasma:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: Плазма
        platelets:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: Тромбоциты
        erythrocytes:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: Эритроциты
        leukocytes:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          title: Гранулоциты (Лейкоциты)
        address:
          type: string
          title: Адрес
          maxLength: 255
        site:
          type: string
          title: Сайт
          maxLength: 255
        phones:
          type: string
          title: Телефоны
          description: Устаревшее поле
          maxLength: 255
        email:
          type: string
          format: email
          maxLength: 254
        worktime:
          type: string
          title: Режим работы
          description: Устаревшее поле
          maxLength: 255
        without_registration:
          type: boolean
          title: Можно сдавать без прописки
          description: Центры крови принимает доноров без местной прописки
        with_typing:
          type: boolean
          title: Можно пройти типирование
          description: Здесь вы можете войти в <a href="https://wmdd2020.donorsearch.org"
            target="_blank">регистр доноров костного мозга</a>
        for_moscow:
          type: boolean
          title: В зачёт почётного донора Москвы
          description: Сдавая в этом центре крови можно получить звание Почётного
            донора Москвы
        closed:
          type: boolean
          title: Ликвидирован
          description: Если данный центр крови больше не существует, то не будет показан
            в поиске, где сдать кровь. Однако при добавлении донаций, доноры могут
            найти этот центр крови, чтобы отметить свои старые донации.
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций добавлено
      required:
        - city
        - city_id
        - id
        - lat
        - lng
        - title
    Donation:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStationSmall'
          readOnly: true
        image:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        image_id:
          type: integer
          nullable: true
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        legacy_image:
          type: string
          readOnly: true
        has_reply:
          type: string
          readOnly: true
        reply_viewed:
          type: string
          readOnly: true
        allowed_modify:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        status:
          allOf:
            - $ref: '#/components/schemas/BlankEnum'
          readOnly: true
          title: Статус
          description: |-
            Статус "без справки" можно изменить отметив поле "Со справкой?" и добавив справку

            * `waiting` - На модерации
            * `waiting_after_accept` - На модерации после принятия
            * `without_image` - Без справки
            * `accepted` - Принята
            * `rejected` - Отклонена
            * `deleted` - Удалена
        reject_reason:
          readOnly: true
          nullable: true
          title: Причина отказа
          oneOf:
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        donate_at:
          type: string
          format: date
          title: Дата донации
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        payment_type:
          allOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
          title: Тип донации
        is_out:
          type: boolean
          title: Выездная акция
        volume:
          type: number
          format: double
          title: Объем
        payment_cost:
          type: number
          format: double
          title: Цена донаци
        on_moderation_date:
          type: string
          format: date
          nullable: true
          title: С какой даты на модерации
        with_image:
          type: boolean
          title: Со справкой?
        created_using_ocr:
          type: boolean
          title: Создано OCR
          description: Данная запись сгенерирована с помощью модуля распознования
            справок
        user:
          type: integer
          readOnly: true
          title: Пользователь
      required:
        - allowed_modify
        - blood_station
        - city
        - city_id
        - created_at
        - donate_at
        - has_reply
        - id
        - image
        - legacy_image
        - reject_reason
        - reply_viewed
        - status
        - updated_at
        - user
    PaginatedDonationPlanList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/DonationPlan'
    BloodStationSchedule:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        dow:
          type: string
          readOnly: true
        start:
          type: string
          format: time
        end:
          type: string
          format: time
      required:
        - dow
        - end
        - id
        - start
    BloodStationPhone:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        phone:
          type: string
          title: Номер телефона
          maxLength: 25
        comment:
          type: string
          title: Коментарий
      required:
        - id
        - phone
    BloodStation:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        city_id:
          type: integer
        city:
          $ref: '#/components/schemas/City'
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
        schedule:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationSchedule'
        phone_numbers:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationPhone'
        blood_group:
          type: string
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        parser_url:
          type: string
          format: uri
          nullable: true
          title: Страница в службе крови
          maxLength: 200
        is_get_from_parser:
          type: boolean
          title: Принимать потребности у службы крови?
          description: Данные будут обновляться каждый день в час ночи.
        o_plus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: O(I) Rh+
        o_minus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: O(I) Rh-
        a_plus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: A(II) Rh+
        a_minus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: A(II) Rh-
        b_plus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: B(III) Rh+
        b_minus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: B(III) Rh-
        ab_plus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: AB(IV) Rh+
        ab_minus:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: AB(IV) Rh-
        blood:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Цельная кровь
        plasma:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Плазма
        platelets:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Тромбоциты
        erythrocytes:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Эритроциты
        leukocytes:
          allOf:
            - $ref: '#/components/schemas/PlusMinusUniversalEnum'
          title: Гранулоциты (Лейкоциты)
        address:
          type: string
          title: Адрес
          maxLength: 255
        site:
          type: string
          title: Сайт
          maxLength: 255
        phones:
          type: string
          title: Телефоны
          description: Устаревшее поле
          maxLength: 255
        email:
          type: string
          format: email
          maxLength: 254
        worktime:
          type: string
          title: Режим работы
          description: Устаревшее поле
          maxLength: 255
        without_registration:
          type: boolean
          title: Можно сдавать без прописки
          description: Центры крови принимает доноров без местной прописки
        with_typing:
          type: boolean
          title: Можно пройти типирование
          description: Здесь вы можете войти в <a href="https://wmdd2020.donorsearch.org"
            target="_blank">регистр доноров костного мозга</a>
        for_moscow:
          type: boolean
          title: В зачёт почётного донора Москвы
          description: Сдавая в этом центре крови можно получить звание Почётного
            донора Москвы
        closed:
          type: boolean
          title: Ликвидирован
          description: Если данный центр крови больше не существует, то не будет показан
            в поиске, где сдать кровь. Однако при добавлении донаций, доноры могут
            найти этот центр крови, чтобы отметить свои старые донации.
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций добавлено
      required:
        - blood_group
        - city
        - city_id
        - id
        - lat
        - lng
        - phone_numbers
        - schedule
        - title
    PlusMinusUniversalEnum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    DonationPlan:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        event:
          type: string
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStation'
          readOnly: true
        city_id:
          type: integer
          nullable: true
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        object_id:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: ID записи
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        plan_date:
          type: string
          format: date
          title: Планируемая дата
        payment_type:
          nullable: true
          title: Тип донации
          oneOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        status:
          allOf:
            - $ref: '#/components/schemas/DonationPlanStatusEnum'
          title: Статус
        is_out:
          type: boolean
          title: Выездная акция
        user:
          type: integer
          readOnly: true
          title: Пользователь
        content_type:
          type: integer
          nullable: true
          title: Тип записи
        donation:
          type: integer
          nullable: true
          title: Добавленная Донация
      required:
        - blood_station
        - city
        - created_at
        - event
        - id
        - plan_date
        - updated_at
        - user
    BloodClassF07Enum:
      enum:
        - blood
        - plasma
        - platelets
        - erythrocytes
        - leukocytes
      type: string
      description: |-
        * `blood` - Цельная кровь
        * `plasma` - Плазма
        * `platelets` - Тромбоциты
        * `erythrocytes` - Эритроциты
        * `leukocytes` - Гранулоциты (Лейкоциты)
    PaymentTypeEnum:
      enum:
        - free
        - payed
      type: string
      description: |-
        * `free` - Безвозмездно
        * `payed` - Платно
    DonationPlanStatusEnum:
      enum:
        - active
        - abort
        - done
        - widget_abort
      type: string
      description: |-
        * `active` - донация запланирована
        * `abort` - планирование отменено
        * `done` - запланированная донация добавлена
        * `widget_abort` - отказ прикрепить справку к прошедшему планированию
    NullEnum:
      enum:
        - male
        - female
    BlankEnum:
      enum:
        - male
        - female
    ChangePassword:
      type: object
      properties:
        password1:
          type: string
        password2:
          type: string
    City:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        slug:
          type: string
          title: Название
          description: Строковый идентификатор сущности.
          maxLength: 255
        region_id:
          type: integer
        region:
          allOf:
            - $ref: '#/components/schemas/Region'
          readOnly: true
        country:
          allOf:
            - $ref: '#/components/schemas/Country'
          readOnly: true
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Приоритет
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
      required:
        - country
        - id
        - lat
        - lng
        - region
        - region_id
        - title
    Country:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
      required:
        - id
        - title
    DonationAgg:
      type: object
      properties:
        count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за все время
        last_donation_at:
          type: string
          format: date
          nullable: true
          title: Дата последней донации
        blood:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь
        plasma:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма
        platelets:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты
        erythrocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты
        leukocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Гранулоциты (Лейкоциты)
        unconfirmed_donations:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Не подтверждённые
    BonusDetail:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        _bonus_image:
          type: string
          format: uri
          title: Изображение бонуса
          description: Минимальный размер 10x10, Максимальный размер 10000x10000
        partner_image:
          type: string
        is_taken:
          type: string
          readOnly: true
        bonus_name:
          type: string
          title: Название бонуса
          description: Максимум 48 символов
          maxLength: 48
        bonus_description:
          type: string
          title: Описание бонуса
        partner_name:
          type: string
          title: Имя партнера
          description: Максимум 29 символов
          maxLength: 29
        date_validity:
          type: string
          format: date
          title: Срок действия
        is_published:
          type: boolean
          title: Опубликован?
        is_expired:
          type: boolean
          readOnly: true
          default: false
        has_feedback:
          type: boolean
          readOnly: true
          default: false
        partner_url:
          type: string
          format: uri
          title: Ссылка на партнера
          maxLength: 200
        state:
          type: string
          readOnly: true
        bonus_confines:
          type: string
          title: Ограничения бонуса
        promocode:
          type: string
          readOnly: true
        w:
          type: integer
        h:
          type: integer
        cities:
          type: array
          items:
            $ref: '#/components/schemas/City'
      required:
        - _bonus_image
        - bonus_confines
        - bonus_description
        - bonus_name
        - cities
        - date_validity
        - h
        - has_feedback
        - id
        - is_expired
        - is_taken
        - partner_image
        - partner_name
        - partner_url
        - promocode
        - state
        - w
    BonusList:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        bonus_image:
          type: string
        partner_image:
          type: string
        is_taken:
          type: string
          readOnly: true
        bonus_name:
          type: string
          title: Название бонуса
          description: Максимум 48 символов
          maxLength: 48
        partner_name:
          type: string
          title: Имя партнера
          description: Максимум 29 символов
          maxLength: 29
        date_validity:
          type: string
          format: date
          title: Срок действия
        is_published:
          type: boolean
          title: Опубликован?
        h:
          type: integer
        w:
          type: integer
        cities:
          type: array
          items:
            type: integer
            title: Доступен в городах
          title: Доступен в городах
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Приоритет
          description: Чем больше число, тем выше в списке
      required:
        - bonus_image
        - bonus_name
        - date_validity
        - h
        - id
        - is_taken
        - partner_image
        - partner_name
        - w
    PaginatedBonusListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/BonusList'
    PaginatedBloodStationWithNeedsList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationWithNeeds'
    PaginatedAddressNeedList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/AddressNeed'
    AddressNeed:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        author:
          type: string
          readOnly: true
        total_joined_count:
          type: integer
          readOnly: true
        image:
          type: string
        blood_station_id:
          type: integer
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStationSmall'
          readOnly: true
        time_slots:
          type: array
          items:
            $ref: '#/components/schemas/AddressNeedTimeSlotForBase'
          readOnly: true
        joined_users:
          type: array
          items:
            $ref: '#/components/schemas/AddressNeedJoinedUserForBase'
          readOnly: true
        object_id:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: Автор
        o_plus:
          allOf:
            - $ref: '#/components/schemas/OPlusAf7Enum'
          title: O(I) Rh+
        o_minus:
          allOf:
            - $ref: '#/components/schemas/OMinusAf7Enum'
          title: O(I) Rh-
        a_plus:
          allOf:
            - $ref: '#/components/schemas/APlusAf7Enum'
          title: A(II) Rh+
        a_minus:
          allOf:
            - $ref: '#/components/schemas/AMinusAf7Enum'
          title: A(II) Rh-
        b_plus:
          allOf:
            - $ref: '#/components/schemas/BPlusAf7Enum'
          title: B(III) Rh+
        b_minus:
          allOf:
            - $ref: '#/components/schemas/BMinusAf7Enum'
          title: B(III) Rh-
        ab_plus:
          allOf:
            - $ref: '#/components/schemas/AbPlusAf7Enum'
          title: AB(IV) Rh+
        ab_minus:
          allOf:
            - $ref: '#/components/schemas/AbMinusAf7Enum'
          title: AB(IV) Rh-
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClass2c1Enum'
          title: Тип крови
        last_date:
          type: string
          format: date
          title: Крайний срок
        required_donors_count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Требуемое количество доноров
        birth_date:
          type: string
          format: date
          nullable: true
          title: Дата рождения реципиента
        last_name:
          type: string
          title: Фамилия реципиента
          maxLength: 255
        first_name:
          type: string
          title: Имя реципиента
          maxLength: 255
        middle_name:
          type: string
          nullable: true
          title: Отчество реципиента
          maxLength: 255
        _image:
          type: string
          format: uri
          nullable: true
          title: Фото реципиента
          description: Минимальный размер 190x190, Максимальный размер 10000x10000
        cropping:
          type: string
          title: Отображаемая часть
          maxLength: 255
        search_reason:
          type: string
          title: Причина поиска
        status:
          nullable: true
          title: Статус
          oneOf:
            - $ref: '#/components/schemas/Status2e6Enum'
            - $ref: '#/components/schemas/BlankEnum'
            - $ref: '#/components/schemas/NullEnum'
        time_by_blood_station:
          type: boolean
          title: По расписанию центра крови
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Дата добавления
        content_type:
          type: integer
          nullable: true
          title: Тип автора
      required:
        - author
        - blood_station
        - blood_station_id
        - created_at
        - first_name
        - id
        - image
        - joined_users
        - last_date
        - last_name
        - required_donors_count
        - search_reason
        - time_slots
        - total_joined_count
    Status2e6Enum:
      enum:
        - donors_found
        - search_completed
        - search_in_progress
        - on_moderation
        - rejected
      type: string
      description: |-
        * `donors_found` - Доноры найдены
        * `search_completed` - Поиск завершен
        * `search_in_progress` - Поиск доноров продолжается
        * `on_moderation` - На модерации
        * `rejected` - Отклонена
    APlusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    BMinusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    BloodStationWithNeeds:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        city_id:
          type: integer
        city:
          $ref: '#/components/schemas/City'
        has_blood_group:
          type: string
          readOnly: true
        schedule:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationSchedule'
        phone_numbers:
          type: array
          items:
            $ref: '#/components/schemas/BloodStationPhone'
        lat:
          type: string
          readOnly: true
        lng:
          type: string
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        blood_status:
          type: string
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
        parser_url:
          type: string
          format: uri
          nullable: true
          title: Страница в службе крови
          maxLength: 200
        is_get_from_parser:
          type: boolean
          title: Принимать потребности у службы крови?
          description: Данные будут обновляться каждый день в час ночи.
        o_plus:
          allOf:
            - $ref: '#/components/schemas/OPlusC07Enum'
          title: O(I) Rh+
        o_minus:
          allOf:
            - $ref: '#/components/schemas/OMinusC07Enum'
          title: O(I) Rh-
        a_plus:
          allOf:
            - $ref: '#/components/schemas/APlusC07Enum'
          title: A(II) Rh+
        a_minus:
          allOf:
            - $ref: '#/components/schemas/AMinusC07Enum'
          title: A(II) Rh-
        b_plus:
          allOf:
            - $ref: '#/components/schemas/BPlusC07Enum'
          title: B(III) Rh+
        b_minus:
          allOf:
            - $ref: '#/components/schemas/BMinusC07Enum'
          title: B(III) Rh-
        ab_plus:
          allOf:
            - $ref: '#/components/schemas/AbPlusC07Enum'
          title: AB(IV) Rh+
        ab_minus:
          allOf:
            - $ref: '#/components/schemas/AbMinusC07Enum'
          title: AB(IV) Rh-
        blood:
          allOf:
            - $ref: '#/components/schemas/LeukocytesEnum'
          title: Цельная кровь
        plasma:
          allOf:
            - $ref: '#/components/schemas/LeukocytesEnum'
          title: Плазма
        platelets:
          allOf:
            - $ref: '#/components/schemas/LeukocytesEnum'
          title: Тромбоциты
        erythrocytes:
          allOf:
            - $ref: '#/components/schemas/LeukocytesEnum'
          title: Эритроциты
        leukocytes:
          allOf:
            - $ref: '#/components/schemas/LeukocytesEnum'
          title: Гранулоциты (Лейкоциты)
        address:
          type: string
          title: Адрес
          maxLength: 255
        site:
          type: string
          title: Сайт
          maxLength: 255
        phones:
          type: string
          title: Телефоны
          description: Устаревшее поле
          maxLength: 255
        email:
          type: string
          format: email
          maxLength: 254
        worktime:
          type: string
          title: Режим работы
          description: Устаревшее поле
          maxLength: 255
        without_registration:
          type: boolean
          title: Можно сдавать без прописки
          description: Центры крови принимает доноров без местной прописки
        with_typing:
          type: boolean
          title: Можно пройти типирование
          description: Здесь вы можете войти в <a href="https://wmdd2020.donorsearch.org"
            target="_blank">регистр доноров костного мозга</a>
        for_moscow:
          type: boolean
          title: В зачёт почётного донора Москвы
          description: Сдавая в этом центре крови можно получить звание Почётного
            донора Москвы
        closed:
          type: boolean
          title: Ликвидирован
          description: Если данный центр крови больше не существует, то не будет показан
            в поиске, где сдать кровь. Однако при добавлении донаций, доноры могут
            найти этот центр крови, чтобы отметить свои старые донации.
        priority:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций добавлено
      required:
        - blood_group
        - blood_status
        - city
        - city_id
        - has_blood_group
        - id
        - lat
        - lng
        - phone_numbers
        - schedule
        - title
    AMinusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    PaginatedCityList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/City'
    PatchedUser:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: Дата регистрации
        username:
          type: string
          maxLength: 50
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        middle_name:
          type: string
          title: Отчество
          maxLength: 255
        maiden_name:
          type: string
          title: Девичья фамилия
          maxLength: 255
        birth_date:
          type: string
          format: date
          nullable: true
          title: Дата рождения
        gender:
          title: Пол
          oneOf:
            - $ref: '#/components/schemas/GenderEnum'
            - $ref: '#/components/schemas/BlankEnum'
        email:
          type: string
          format: email
          readOnly: true
          title: Адрес электронной почты
        phone:
          type: string
          readOnly: true
          title: Номер телефона
        login_via_phone:
          type: boolean
          title: Вход по номеру телефон
        about:
          type: string
          title: О себе
          maxLength: 130
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        is_pin_20:
          type: boolean
          title: '20'
        is_pin_100:
          type: boolean
          title: '100'
        donation_agg:
          allOf:
            - $ref: '#/components/schemas/DonationAgg'
          readOnly: true
        socials:
          type: array
          items:
            $ref: '#/components/schemas/SimpleUserSocialAuth'
          readOnly: true
        photo:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        photo_id:
          type: integer
          nullable: true
        next_donation_date:
          type: string
          readOnly: true
        next_donation:
          type: string
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        has_password:
          type: string
          readOnly: true
        is_email_verified:
          type: string
          readOnly: true
        is_phone_verified:
          type: string
          readOnly: true
        email_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения почты через баннер
        phone_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения телефона через баннер
        legacy_avatar:
          type: string
          readOnly: true
        start_donor_year:
          type: string
          readOnly: true
        referal_code:
          type: string
          format: uuid
          readOnly: true
          title: Реферальный код
        parent_user:
          allOf:
            - $ref: '#/components/schemas/TopUsers'
          readOnly: true
        invited_users:
          type: array
          items:
            $ref: '#/components/schemas/TopUsers'
          readOnly: true
        donor_status:
          allOf:
            - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        managed_organizations:
          type: string
          readOnly: true
        joined_events:
          type: string
          readOnly: true
        joined_organizations:
          type: string
          readOnly: true
        donor_certificate:
          type: boolean
          title: Получено удостоверение почётного донора
    BloodClass2c1Enum:
      enum:
        - blood
        - plasma
        - platelets
        - erythrocytes
        - leukocytes
        - any
      type: string
      description: |-
        * `blood` - Цельная кровь
        * `plasma` - Плазма
        * `platelets` - Тромбоциты
        * `erythrocytes` - Эритроциты
        * `leukocytes` - Гранулоциты (Лейкоциты)
        * `any` - Любой
    AbPlusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    BPlusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    OMinusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    OMinusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    OPlusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    OPlusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    APlusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    AbMinusAf7Enum:
      enum:
        - need
        - no_need
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
    AMinusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    BPlusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    BMinusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    AbPlusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    AbMinusC07Enum:
      enum:
        - need
        - no_need
        - unknown
      type: string
      description: |-
        * `need` - нужна
        * `no_need` - не нужна
        * `unknown` - нет данных
    LeukocytesEnum:
      enum:
        - accept
        - no_accept
        - unknown
      type: string
      description: |-
        * `accept` - принимает
        * `no_accept` - не принимает
        * `unknown` - нет данных
    AddressNeedTimeSlotForBase:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        joined_count:
          type: integer
          readOnly: true
        date:
          type: string
          format: date
          title: День
      required:
        - date
        - id
        - joined_count
    AddressNeedJoinedUserForBase:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        user:
          allOf:
            - $ref: '#/components/schemas/UserTop'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        timeslot:
          type: integer
          title: Выбранное время
      required:
        - created_at
        - id
        - timeslot
        - updated_at
        - user
    UserTop:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        middle_name:
          type: string
          title: Отчество
          maxLength: 255
        blood_group:
          type: string
          readOnly: true
        photo:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        legacy_avatar:
          type: string
          readOnly: true
        honor_donor:
          type: boolean
          title: Почетный донор
        count:
          type: string
          readOnly: true
        count_bs:
          type: string
          readOnly: true
        count_blood:
          type: string
          readOnly: true
        count_plasma:
          type: string
          readOnly: true
        count_leukocytes:
          type: string
          readOnly: true
        count_erythrocytes:
          type: string
          readOnly: true
        count_platelets:
          type: string
          readOnly: true
        donor_status:
          allOf:
            - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        donation_agg:
          allOf:
            - $ref: '#/components/schemas/MainPageDonationAggTop'
          readOnly: true
        is_request_user:
          type: string
          readOnly: true
      required:
        - blood_group
        - count
        - count_blood
        - count_bs
        - count_erythrocytes
        - count_leukocytes
        - count_plasma
        - count_platelets
        - donation_agg
        - donor_status
        - first_name
        - id
        - is_request_user
        - legacy_avatar
        - photo
    DonationCreate:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        blood_station_id:
          type: integer
          nullable: true
        blood_station:
          allOf:
            - $ref: '#/components/schemas/BloodStationSmall'
          readOnly: true
        image:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        image_id:
          type: integer
          nullable: true
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        legacy_image:
          type: string
          readOnly: true
        has_reply:
          type: string
          readOnly: true
        reply_viewed:
          type: string
          readOnly: true
        allowed_modify:
          type: string
          readOnly: true
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        middle_name:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата добавления
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: Дата изменения
        status:
          allOf:
            - $ref: '#/components/schemas/Status73fEnum'
          readOnly: true
          title: Статус
          description: |-
            Статус "без справки" можно изменить отметив поле "Со справкой?" и добавив справку
            
            * `waiting` - На модерации
            * `waiting_after_accept` - На модерации после принятия
            * `without_image` - Без справки
            * `accepted` - Принята
            * `rejected` - Отклонена
            * `deleted` - Удалена
        reject_reason:
          readOnly: true
          nullable: true
          title: Причина отказа
          oneOf:
            - $ref: '#/components/schemas/RejectReasonEnum'
            - $ref: '#/components/schemas/NullEnum'
        donate_at:
          type: string
          format: date
          title: Дата донации
        blood_class:
          allOf:
            - $ref: '#/components/schemas/BloodClassF07Enum'
          title: Класс крови
        payment_type:
          allOf:
            - $ref: '#/components/schemas/PaymentTypeEnum'
          title: Тип донации
        is_out:
          type: boolean
          title: Выездная акция
        volume:
          type: number
          format: double
          title: Объем
        payment_cost:
          type: number
          format: double
          title: Цена донаци
        on_moderation_date:
          type: string
          format: date
          nullable: true
          title: С какой даты на модерации
        with_image:
          type: boolean
          title: Со справкой?
        created_using_ocr:
          type: boolean
          title: Создано OCR
          description: Данная запись сгенерирована с помощью модуля распознования
            справок
        user:
          type: integer
          readOnly: true
          title: Пользователь
      required:
        - allowed_modify
        - blood_station
        - city
        - city_id
        - created_at
        - donate_at
        - has_reply
        - id
        - image
        - legacy_image
        - reject_reason
        - reply_viewed
        - status
        - updated_at
        - user
    MainPageDonationAggTop:
      type: object
      properties:
        count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за все время
        last_donation_at:
          type: string
          format: date
          nullable: true
          title: Дата последней донации
        blood:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь
        plasma:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма
        platelets:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты
        erythrocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты
        leukocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Гранулоциты (Лейкоциты)
        count_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за донорский год
        blood_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь за донорский год
        plasma_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма за донорский год
        platelets_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты за донорский год
        erythrocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты за донорский год
        leukocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Лейкоциты за донорский год
    DonationAggTop:
      type: object
      properties:
        count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за все время
        last_donation_at:
          type: string
          format: date
          nullable: true
          title: Дата последней донации
        blood:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь
        plasma:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма
        platelets:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты
        erythrocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты
        leukocytes:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Гранулоциты (Лейкоциты)
        unconfirmed_donations:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Не подтверждённые
        count_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Донаций за донорский год
        blood_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Цельная кровь за донорский год
        plasma_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Плазма за донорский год
        platelets_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Тромбоциты за донорский год
        erythrocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Эритроциты за донорский год
        leukocytes_year:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Лейкоциты за донорский год
    DonorStatus:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Название
          maxLength: 50
        donations_count:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Количество донаций
        background_color:
          type: string
          title: Цвет фона
          maxLength: 100
        text_color:
          type: string
          title: Цвет текста
          maxLength: 100
      required:
        - donations_count
        - id
        - name
    EmailChangeSerialzier:
      type: object
      properties:
        email:
          type: string
          format: email
          maxLength: 254
      required:
        - email
    EmailConfirmationSerialzier:
      type: object
      properties:
        email:
          type: string
          format: email
        code:
          type: integer
      required:
        - code
        - email
    EmailRegistration:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
        first_name:
          type: string
        tag:
          type: string
      required:
        - email
        - first_name
        - password
    EmailVerificationSerialzier:
      type: object
      properties:
        code:
          type: integer
        user_id:
          type: integer
        email:
          type: string
          format: email
      required:
        - code
        - email
        - user_id
    GenderEnum:
      enum:
        - male
        - female
      type: string
      description: |-
        * `male` - Мужской
        * `female` - Женский
    InlinePicture:
      type: object
      properties:
        image:
          type: string
          format: uri
          readOnly: true
      required:
        - image
    PhoneChangeSerialzier:
      type: object
      properties:
        phone:
          type: string
      required:
        - phone
    PhoneConfirmationSerialzier:
      type: object
      properties:
        phone:
          type: string
        code:
          type: integer
      required:
        - code
        - phone
    PhoneRegistration:
      type: object
      properties:
        phone:
          type: string
        password:
          type: string
        first_name:
          type: string
        tag:
          type: string
      required:
        - first_name
        - password
        - phone
    PhoneVerificationSerialzier:
      type: object
      properties:
        code:
          type: integer
        user_id:
          type: integer
        phone:
          type: string
      required:
        - code
        - phone
        - user_id
    ProviderEnum:
      enum:
        - facebook
        - vkontakte
        - twitter
        - odnoklassniki
        - google
        - yandex
        - apple
      type: string
      description: |-
        * `facebook` - Facebook
        * `vkontakte` - VK
        * `twitter` - Twitter
        * `odnoklassniki` - Odnoklassniki
        * `google` - Google
        * `yandex` - Yandex
        * `apple` - Apple
    Region:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: Название
          maxLength: 255
      required:
        - id
        - title
    Registration:
      oneOf:
        - $ref: '#/components/schemas/EmailRegistration'
        - $ref: '#/components/schemas/PhoneRegistration'
    ResetPassword:
      type: object
      properties:
        token:
          type: string
        password:
          type: string
      required:
        - password
        - token
    SimpleUserSocialAuth:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        provider:
          allOf:
            - $ref: '#/components/schemas/ProviderEnum'
          readOnly: true
          title: Провайдер
        uid:
          type: string
          readOnly: true
          title: ID профиля
        is_public:
          type: boolean
          title: Публичный профиль
        email:
          type: string
          readOnly: true
          nullable: true
      required:
        - email
        - id
        - provider
        - uid
    TopUsers:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        photo:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        donation_agg:
          allOf:
            - $ref: '#/components/schemas/DonationAggTop'
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        bs_count:
          type: string
          readOnly: true
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        donor_status:
          allOf:
            - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        is_request_user:
          type: boolean
          readOnly: true
      required:
        - blood_group
        - bs_count
        - city
        - donation_agg
        - donor_status
        - first_name
        - id
        - is_request_user
        - photo
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: Дата регистрации
        username:
          type: string
          maxLength: 50
        first_name:
          type: string
          title: Имя
          maxLength: 255
        last_name:
          type: string
          title: Фамилия
          maxLength: 255
        middle_name:
          type: string
          title: Отчество
          maxLength: 255
        maiden_name:
          type: string
          title: Девичья фамилия
          maxLength: 255
        birth_date:
          type: string
          format: date
          nullable: true
          title: Дата рождения
        gender:
          title: Пол
          oneOf:
            - $ref: '#/components/schemas/GenderEnum'
            - $ref: '#/components/schemas/BlankEnum'
        email:
          type: string
          format: email
          readOnly: true
          title: Адрес электронной почты
        phone:
          type: string
          readOnly: true
          title: Номер телефона
        login_via_phone:
          type: boolean
          title: Вход по номеру телефон
        about:
          type: string
          title: О себе
          maxLength: 130
        city_id:
          type: integer
        city:
          allOf:
            - $ref: '#/components/schemas/City'
          readOnly: true
        is_pin_20:
          type: boolean
          title: '20'
        is_pin_100:
          type: boolean
          title: '100'
        donation_agg:
          allOf:
            - $ref: '#/components/schemas/DonationAgg'
          readOnly: true
        socials:
          type: array
          items:
            $ref: '#/components/schemas/SimpleUserSocialAuth'
          readOnly: true
        photo:
          allOf:
            - $ref: '#/components/schemas/InlinePicture'
          readOnly: true
        photo_id:
          type: integer
          nullable: true
        next_donation_date:
          type: string
          readOnly: true
        next_donation:
          type: string
          readOnly: true
        blood_group:
          type: string
          readOnly: true
        has_password:
          type: string
          readOnly: true
        is_email_verified:
          type: string
          readOnly: true
        is_phone_verified:
          type: string
          readOnly: true
        email_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения почты через баннер
        phone_reconfirmed_at:
          type: string
          format: date-time
          nullable: true
          title: Дата подтверждения телефона через баннер
        legacy_avatar:
          type: string
          readOnly: true
        start_donor_year:
          type: string
          readOnly: true
        referal_code:
          type: string
          format: uuid
          readOnly: true
          title: Реферальный код
        parent_user:
          allOf:
            - $ref: '#/components/schemas/TopUsers'
          readOnly: true
        invited_users:
          type: array
          items:
            $ref: '#/components/schemas/TopUsers'
          readOnly: true
        donor_status:
          allOf:
            - $ref: '#/components/schemas/DonorStatus'
          readOnly: true
        managed_organizations:
          type: string
          readOnly: true
        joined_events:
          type: string
          readOnly: true
        joined_organizations:
          type: string
          readOnly: true
        donor_certificate:
          type: boolean
          title: Получено удостоверение почётного донора
      required:
        - blood_group
        - city
        - city_id
        - date_joined
        - donation_agg
        - donor_status
        - email
        - first_name
        - has_password
        - id
        - invited_users
        - is_email_verified
        - is_phone_verified
        - joined_events
        - joined_organizations
        - legacy_avatar
        - managed_organizations
        - next_donation
        - next_donation_date
        - parent_user
        - phone
        - photo
        - referal_code
        - socials
        - start_donor_year
        - username
